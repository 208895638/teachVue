<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="jq.js"></script>
</head>
<body>
    <div id="app">

    </div>
    <script>
    //    $(function(){

    //        $.ajax({
    //            method : "GET", // get或post
    //            url : "http://www.bufantec.com/api/douban/movie/in_theaters", // 请求的地址
    //            dataType : "JSON", // 返回数据的类型
    //            success (val){ // 成功返回执行的函数
    //                 console.log(val)
    //                 $('#app').html(val.data[0].title);
    //            }
    //        });

    //    })
    var msg = new Promise(function(resolve,reject){ // resolve 处理成功的函数 reject是处理失败的的函数
        $.ajax({
               method : "post", // get或post DELETE update
               url : "http://www.bufantec.com/api/douban/movie/in_theaters", // 请求的地址
               dataType : "JSON", // 返回数据的类型
               success (val){ // 成功返回执行的函数
                 resolve(val)
               },
               failed(val){ // 请求失败的函数
                reject(val)
               }
           });
    })
    msg
    .then(function(val){
        console.log(val,"成功请求")
    }).catch(function(val){
        console.log(val,"失败请求")
    })
    </script>
</body>
</html>